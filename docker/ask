#!/usr/bin/python3 -W ignore::DeprecationWarning
# -*- coding:utf8 -*-

import sys
import logging
from Asking.t5_small import T5SmallQuestionGenerator
from Asking.t5_boolean import YesNoQuestionGenerator
logging.basicConfig(level=logging.CRITICAL)
# from Asking.advance_qg import QuestionGenerator
# from Asking.advance_qg import print_qa

if __name__ == '__main__':
    input_file = sys.argv[1]
    N = int(sys.argv[2])

    with open('output.txt', 'w') as f:
        sys.stdout = f

        qg_small = T5SmallQuestionGenerator(input_file, N)
        small_questions = qg_small.generate_questions()

        with open(input_file, encoding="UTF-8") as a:
            article = a.read()
        qg_yesNo = YesNoQuestionGenerator(article, N)
        yesNo_questions = qg_yesNo.generate()
        sys.stdout = sys.__stdout__

    for question in small_questions:
        print(f'{question}')
    for question in yesNo_questions:
        print(f'{question}')

    # with open(input_file, encoding="UTF-8") as a:
    #     article = a.read()
    #
    # qg = YesNoQuestionGenerator(article, N)
    # output = qg.generate()
    # for out in output:
    #     print(out)

    # with open(input_file, encoding="UTF-8") as a:
    #     article = a.read()
    # qg = QuestionGenerator()
    # qa_list = qg.generate(
    #     article,
    #     num_questions=10,
    #     answer_style='sentences'
    # )
    # print_qa(qa_list, show_answers=False)
